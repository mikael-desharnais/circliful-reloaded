<!DOCTYPE html>
<html>
<head>
	<title>Circliful</title>

	<link href="css/jquery.circliful.css" rel="stylesheet" type="text/css" />
	<link href="css/font-awesome.min.css" rel="stylesheet" type="text/css" />

	<script src="http://code.jquery.com/jquery-1.4.min.js"></script>
	<script src="js/jquery.circliful.js"></script>
	<!--[if lt IE 10]><script src="js/jquery.circliful.ie8.js"></script><![endif]-->
	<script src="js/jquery.circliful.svg.js"></script>
	
	<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">

	<style>

	body {
		font-family: arial,verdana, sans-serif;
		font-size: 12px;
	}

	</style>
</head>
<body>
	<button type="button" id="destroy">DESTROY</button>
	<div id="myStathalf"></div>
	<div id="myStathalf2" style="position : absolute; right : 0;"></div>
	<div class="tartine"></div>
	<script>
	$( document ).ready(function() {
		    var value = $('#myStathalf').circliful({
				getText : function(){
					if (this.usesTotal()){
						return Math.round(this.getCurrentValue())+" kW";
					}else {
						return this.getCurrentValue()+" %";
					}
				},
				getInfoText : function(){
					return "Used power";
				},
				"dimension" : 300
			});
			var interval1 = setInterval(function(){
				$('#myStathalf').circliful('animateToValue',Math.round(Math.random()*100))
			},5000);
			var interval2 = setInterval(function(){
				$('#myStathalf').circliful('setSetting','foreground-color','#'+Math.floor(Math.random()*16777215).toString(16));
			},1000);
			jQuery('#destroy').click(function(){
				$('#myStathalf').circliful('destroy');
				clearInterval(interval1);
				clearInterval(interval2);
			});
		});
	$( document ).ready(function() {
		    var value = $('#myStathalf2').circliful({
				getText : function(){
					if (this.usesTotal()){
						return Math.round(this.getCurrentValue())+" kW";
					}else {
						return this.getCurrentValue()+" %";
					}
				},
				getInfoText : function(){
					return "Used power";
				},
				"dimension" : 300
			});
		});
	</script>

</body>
</html>
